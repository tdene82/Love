<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{
margin:0;
height:100vh;
display:flex;
justify-content:center;
align-items:center;
background:linear-gradient(135deg,#ffeaa7,#fab1a0);
font-family:sans-serif;
overflow:hidden;
}

/* Card */
.card{
background:pink;
padding:30px;
border-radius:20px;
text-align:center;
width:80%;
max-width:400px;
position:relative;
z-index:2;
}

button{
padding:12px 25px;
border:none;
border-radius:20px;
font-size:16px;
margin:10px;
cursor:pointer;
}

.yes{background:#ff4757;color:white;}
.no{background:#ddd;position:absolute;}

/* Heart rain */
.heart{
position:absolute;
top:-10px;
animation:fall linear infinite;
}

@keyframes fall{
to{transform:translateY(100vh);}
}

#typing-area {
    white-space: pre-wrap; 
    font-size: 18px;
    line-height: 1.6;
    margin-bottom: 20px;
}

#finalGif{
    display:none;
    margin: 20px auto 0 auto;
    width: 200px;
    opacity:0;
    transition: opacity 1.5s;
}
</style>
</head>
<body>

<!-- MUSIC -->
<audio id="myAudio" autoplay loop>
<source src="Varsha thapa - Maaya (Official Lyrical Video)(MP3_160).mp3" type="audio/mpeg">
</audio>

<div class="card">

<!-- STAGE 1 -->
<div id="stage1">
<h3>Click anywhere to start your surprise SomiğŸ¤</h3>
<p>Hope you will like it !</p>
</div>

<!-- STAGE 2 -->
<div id="stage2" style="display:none;">
<h2>Will you be my Valentine? ğŸ’–</h2>
<button class="yes" onclick="yesClick()">Yes ğŸ’•</button>
<button class="no" id="noBtn" onclick="moveNo()">No ğŸ™ˆ</button>
</div>

<!-- STAGE 3 -->
<div id="stage3" style="display:none;">
    <div id="typing-area"></div>
    <img id="finalGif" src="https://media.tenor.com/qSxkC_8yv6sAAAAi/couple-love.gif">
</div>

</div>

<script>
let stage=1;
const audio = document.getElementById("myAudio");

// Stage 1 click â†’ go to stage 2
document.body.onclick=function(){
    if(stage==1){
        document.getElementById("stage1").style.display="none";
        document.getElementById("stage2").style.display="block";
        audio.play();
        heartRain(); // start heart rain at stage 2
        stage=2;
    }
}

// No button runs away 6 times
let noCount=0;
function moveNo(){
    if(noCount<6){
        let btn=document.getElementById("noBtn");
        btn.style.left=Math.random()*200+"px";
        btn.style.top=Math.random()*150+"px";
        noCount++;
    }
}

// Yes button â†’ stage 3
function yesClick(){
    document.getElementById("stage2").style.display="none";
    document.getElementById("stage3").style.display="block";
    startTyping();
}

// Typing effect text
const fullText = `I knew you'd say yes ğŸ¤
à¤­à¤¾à¤µà¤¨à¤¾à¤²à¥‡ à¤²à¥‡à¤–à¥‡à¤•à¥‹ à¤¤à¤¿à¤®à¥€ à¤à¤• à¤¸à¥à¤¨à¥à¤¦à¤° à¤•à¤µà¤¿à¤¤à¤¾ ğŸ¤
à¤® à¤¤ à¤–à¤¾à¤²à¥€ à¤à¤• à¤ªà¤¾à¤¨à¤¾ à¤¬à¤¨à¥‡à¤•à¥‹ à¤¤à¤¿à¤®à¥€à¤²à¥‡ à¤­à¤°à¤¿à¤œà¤¾à¤¨ à¥¤
I love you dherai dherai â¤ï¸
Always there for you to cheer you, to push you up and to love you ğŸ˜š`;

let charIndex = 0;
function startTyping(){
    if(charIndex < fullText.length){
        document.getElementById("typing-area").innerHTML += fullText.charAt(charIndex);
        charIndex++;
        setTimeout(startTyping, 70); 
    } else {
        // GIF fade in after typing
        setTimeout(() => {
            const gif = document.getElementById("finalGif");
            gif.style.display = "block";
            setTimeout(()=>{ gif.style.opacity=1; },50);
        }, 500);
    }
}

// Heart rain function
let heartInterval;
function heartRain(){
    if(!heartInterval){
        heartInterval = setInterval(()=>{
            let heart=document.createElement("div");
            heart.className="heart";
            heart.innerHTML="â¤ï¸";
            heart.style.left=Math.random()*100+"vw";
            heart.style.animationDuration=(Math.random()*3+2)+"s";
            document.body.appendChild(heart);
            setTimeout(()=>heart.remove(),5000);
        },300);
    }
}
</script>

</body>
</html>
